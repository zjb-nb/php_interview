关于一条查询语句在mysql中的执行流程
对应图片1.png

如 select name from test where id=2

1.连接器---先与mysql服务端连接器建立连接，若查询缓存命中则直接返回
（查询缓存的弊端：查询缓存的失效非常频繁，只要有对一个表的更新，这个表上所有的查询缓存都会被清空。）

2.分析器---词法分析告诉服务端你要干什么（我要找 test表中id为2的名字）
(其中sql语法错误在这块暴露)

3.优化器---服务端会思考该怎么执行最优(索引的选择)

4.执行器---检查用户对库对表的权限

5.存储引擎--存储数据，提供读写接口

补充：关于一条更新语句在mysql中的流程
update a set name=1 where id=1;
除了上面几个环节，再查到数据之后，如果是innodb引擎它会进行日志的两阶段提交
1.写入redolog日志，处于prepare阶段
2.写入binlog日志，此时提交事务，处于commit
即要么都成功，要么都失败!!

redolog和binlog的区别:
redolog是物理日志，循环写，记录了某个数据页上做了什么修改,是innodb独有的
binlog是逻辑日志，追加写，记录了一条mysql的原始逻辑 即原始语句

