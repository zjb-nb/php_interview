索引分聚簇索引（主键索引）和二级索引
二级索引又可以分为普通索引，唯一索引和全文索引

#唯一索引（unique）和普通索引的区别
唯一索引特点：存值唯一

##1.从查询角度对比
假定查询语句为select id from T where k=5，id为主键
k为普通索引：先从k的B+树上找到k=5的记录，读取，再查询下一行，不为5，停止。（按条件循环取）
k为唯一索引：找到B+书上k=5的记录，读取后立即停止（因为存值时保证了唯一性）
**性能上有差异吗？**
答：有，但是可以忽略不记，我们知道innodb引擎是按数据页从磁盘读取到内存中的，也就是说有很大的概率
下一条记录也一并读取了，内存的读取速度又很快。


##2.从更新（插入）角度分析
假定更新语句 update T set k=k+1 where k=5;
我们从1.aobout_how_select....这一章中获知更新操作为减少磁盘IO开销，会先将操作存放在change buffer中
**但并不是所有更新操作都会用到change buffer**
唯一索引需要每一次在更新或插入时确保值唯一，也就是说避不开数据的读取，
如果需要的数据刚好在内存中，则直接更新，不在的话还是要从磁盘中读取，也就是说怎么都用不上change buffer这个功能
**用不用change buffer性能差异大吗**
当然大，将数据从磁盘读入内存涉及随机 IO 的访问，是数据库里面成本最高的操作之一。change buffer 因为减少了随机磁盘访问，所以对更新性能的提升是会很明显的。
关于change buffer副作用的场景：更新完后立马查询，反倒增加了写入change buffer负担

总结：唯一索引和普通索引在查询上没太大区别，在更新上因为涉及到change buffer存在显著的区别
尽量考虑非唯一索引





